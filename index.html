<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review ENGLISHJIBI Classes</title>
    <meta name="description" content="Quickly write a review for Krishna Tuition - ENGLISHJIBI Classes">
    <meta name="theme-color" content="#0f172a">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Dark & Classy Palette */
            --primary: #6366f1; /* Indigo 500 */
            --primary-dark: #4f46e5; /* Indigo 600 */
            --primary-glow: rgba(99, 102, 241, 0.4);
            
            --text-main: #F8FAFC; /* Slate 50 */
            --text-muted: #94A3B8; /* Slate 400 */
            --text-dim: #475569; /* Slate 600 */
            
            /* Backgrounds */
            --page-bg: #020617; /* Slate 950 */
            --card-bg: rgba(15, 23, 42, 0.6); /* Glassy Slate 900 */
            --input-bg: rgba(30, 41, 59, 0.5); /* Glassy Slate 800 */
            
            /* UI Elements */
            --radius-lg: 24px;
            --radius-md: 16px;
            --radius-sm: 12px;
            
            /* Shadows & Effects */
            --border-light: rgba(255, 255, 255, 0.1);
            --shadow-deep: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --focus-ring: 0 0 0 2px var(--primary);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--page-bg);
            /* classy dark gradient background */
            background-image: 
                radial-gradient(circle at 50% 0%, #1e1b4b 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, #172554 0%, transparent 50%);
            background-attachment: fixed;
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            line-height: 1.5;
        }

        /* Main Container Card */
        .card {
            background-color: var(--card-bg);
            width: 100%;
            max-width: 460px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-deep);
            padding: 2.5rem;
            text-align: center;
            position: relative;
            border: 1px solid var(--border-light);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header Section */
        header {
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .subtitle svg {
            color: var(--primary);
        }

        /* Star Rating Visual */
        .stars {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 2rem;
            color: #fbbf24; /* Amber 400 */
        }

        .star-icon {
            width: 28px;
            height: 28px;
            fill: currentColor;
            filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.4));
            transition: transform 0.2s;
        }
        
        .star-icon:hover {
            transform: scale(1.1);
        }

        /* Review Text Area Container */
        .review-wrapper {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .review-textarea {
            width: 100%;
            min-height: 120px; /* Start smaller, expand as needed */
            padding: 1.5rem;
            padding-right: 3.5rem; /* Space for refresh button */
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            font-family: inherit;
            font-size: 1.1rem;
            font-weight: 300;
            color: var(--text-main);
            background-color: var(--input-bg);
            
            /* No Scrollbar Logic */
            resize: none;
            overflow-y: hidden;
            
            /* Read-only appearance */
            cursor: default;
            
            line-height: 1.6;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .review-textarea:focus {
            outline: none;
            background-color: rgba(30, 41, 59, 0.8);
            border-color: var(--primary);
            box-shadow: 0 0 0 1px var(--primary), inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .review-textarea::placeholder {
            color: var(--text-dim);
        }

        /* Fade Animation for Text */
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Refresh Button (Floating) */
        .refresh-btn {
            position: absolute;
            top: 1.25rem; /* Align to top right */
            right: 1.25rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-light);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-muted);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
        }
        
        .refresh-btn:hover {
            color: var(--text-main);
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(180deg);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Disclaimer */
        .disclaimer {
            font-size: 0.7rem;
            color: var(--text-dim);
            margin-top: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            letter-spacing: 0.02em;
        }

        /* Actions Grid */
        .actions {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 1rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 1rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px; /* Pill shape */
            border: none;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            gap: 10px;
            text-decoration: none;
            letter-spacing: 0.01em;
        }

        .btn:active {
            transform: scale(0.97) !important;
        }

        /* Primary: Copy */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 0 20px -5px var(--primary-glow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-primary:hover {
            filter: brightness(110%);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px var(--primary-glow);
        }

        /* Secondary: Maps */
        .btn-secondary {
            background-color: transparent;
            color: var(--text-main);
            border: 1px solid var(--border-light);
        }

        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.2);
        }

        /* Tertiary: Generate New */
        .btn-ghost {
            background: transparent;
            color: var(--text-muted);
            font-size: 0.85rem;
            padding: 0.5rem;
            font-weight: 500;
            border-radius: var(--radius-sm);
        }

        .btn-ghost:hover {
            color: var(--text-main);
        }

        /* Toast */
        .toast {
            position: fixed;
            top: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(-150%);
            background-color: #064E3B; /* Emerald 900 */
            color: #D1FAE5; /* Emerald 100 */
            padding: 0.75rem 1.5rem;
            border-radius: 99px;
            font-size: 0.9rem;
            font-weight: 600;
            opacity: 0;
            border: 1px solid #059669;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            pointer-events: none;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
            z-index: 50;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Icons */
        .icon {
            width: 20px;
            height: 20px;
            stroke-width: 2;
        }

        /* Footer */
        footer {
            margin-top: 2.5rem;
            text-align: center;
            font-size: 0.75rem;
            color: var(--text-dim);
            font-weight: 500;
            opacity: 0.8;
        }

        /* Mobile Adjustments */
        @media (max-width: 480px) {
            body {
                padding: 1rem;
            }
            .card {
                padding: 1.5rem;
                border-radius: 20px;
            }
            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <!-- Success Toast -->
    <div id="toast" class="toast">
        <svg class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg>
        Copied to clipboard!
    </div>

    <main class="card">
        <header>
            <h1>ENGLISHJIBI Classes</h1>
            <div class="subtitle">
                <svg class="icon" style="width:18px;height:18px;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                Krishna Tuition
            </div>
        </header>

        <div class="stars">
            <!-- 5 Star Icons -->
            <svg class="star-icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            <svg class="star-icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            <svg class="star-icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            <svg class="star-icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            <svg class="star-icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
        </div>

        <div class="review-wrapper">
            <!-- Readonly attribute ensures text is safe from accidental edits -->
            <textarea 
                id="reviewText" 
                class="review-textarea" 
                placeholder="Generating review..." 
                rows="1" 
                readonly
                aria-label="Generated review text"
            ></textarea>
            
            <!-- Quick Regenerate Icon Button -->
            <div id="btnRefresh" class="refresh-btn" title="Generate new review" role="button" aria-label="Regenerate review">
                <svg style="width:18px;height:18px;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
            </div>
            
            <div class="disclaimer">
                <span>Suggested review â€” you may edit it before submitting</span>
            </div>
        </div>

        <div class="actions">
            <!-- Copy Button -->
            <button id="btnCopy" class="btn btn-primary" aria-label="Copy review to clipboard">
                <svg class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                </svg>
                Copy Text
            </button>

            <!-- Google Maps Link -->
            <a id="btnMaps" href="#" class="btn btn-secondary" aria-label="Open Google Maps to post review">
                <svg class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                Open Google Maps
            </a>

            <!-- Text Link for Regeneration -->
            <button id="btnGenerate" class="btn btn-ghost" aria-label="Generate a different review">
                Generate different review
            </button>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 ENGLISHJIBI Classes</p>
    </footer>

    <script>
        // --- DATA: Sentence Fragments for Random Generation ---
        
        // Expanded dataset for maximum variety (12 Openers)
        const openers = [
            "I recently joined Englishjibi Classes and my experience has been outstanding.",
            "Krishna Tuition is hands down the best place for grammar coaching.",
            "I had a wonderful experience learning English here.",
            "Highly impressed with the teaching quality at Englishjibi Classes.",
            "If you are looking to improve your English skills, this is the right place.",
            "I'm so glad I chose Krishna Tuition for my English studies.",
            "Finding a good English tutor is hard, but Krishna Tuition is a gem.",
            "My search for the perfect grammar class ended here.",
            "Simply the best decision I made for my academic growth.",
            "A fantastic institute for anyone serious about learning English.",
            "Englishjibi Classes has completely changed my perspective on learning.",
            "I can honestly say this is the premier coaching centre in the area."
        ];

        // Expanded dataset (15 Body Sentences)
        const bodies = [
            "The teacher is incredibly knowledgeable and supportive.",
            "Sir explains complex grammar concepts in a very simple and clear way.",
            "The learning environment is very positive and encourages students to ask questions.",
            "I have seen a significant improvement in my confidence and vocabulary.",
            "The teaching style is very effective and student-friendly.",
            "Every doubt is cleared with patience and detailed examples.",
            "The personalized attention given to each student makes a huge difference.",
            "Classes are interactive, making learning fun rather than a chore.",
            "The focus on practical usage of English really helped me.",
            "I went from being confused to understanding concepts clearly in just a few months.",
            "The study material and class structure are very well organized.",
            "Sir takes the time to ensure everyone understands before moving on.",
            "The atmosphere is very professional yet comfortable for learners.",
            "I really appreciate the practical examples used during the lectures.",
            "My writing skills have improved drastically alongside my confidence."
        ];

        // Expanded dataset (12 Closers)
        const closers = [
            "I highly recommend this institute to everyone!",
            "Definitely a 5-star experience.",
            "Thank you for the amazing guidance.",
            "Strongly recommended for anyone wanting to master English.",
            "Best coaching centre in the area.",
            "Don't hesitate to join if you want real results.",
            "Thank you so much for helping me achieve my goals.",
            "A must-join for students and professionals alike.",
            "Keep up the great work!",
            "I am very satisfied with my progress here.",
            "Five stars are not enough for this quality of teaching!",
            "Truly a life-changing experience."
        ];

        // --- STATE MANAGEMENT ---
        
        const dom = {
            textarea: document.getElementById('reviewText'),
            btnCopy: document.getElementById('btnCopy'),
            btnGenerate: document.getElementById('btnGenerate'),
            btnRefresh: document.getElementById('btnRefresh'),
            btnMaps: document.getElementById('btnMaps'),
            toast: document.getElementById('toast')
        };

        const SEARCH_QUERY = "Krishna Tuition";
        const MAPS_URL = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(SEARCH_QUERY)}`;
        
        // Track history to prevent immediate repetitions
        let lastIndices = {
            opener: null,
            body: [],
            closer: null
        };

        // --- FUNCTIONS ---

        /**
         * Auto-resize the text area to fit content (No scrollbars)
         */
        function autoResize() {
            dom.textarea.style.height = 'auto'; // Reset height
            dom.textarea.style.height = dom.textarea.scrollHeight + 'px'; // Set to fit content
        }

        /**
         * Helper to get a random index that isn't the one just used
         */
        function getUniqueIndex(max, exclude) {
            if (max <= 1) return 0;
            let idx;
            do {
                idx = Math.floor(Math.random() * max);
            } while (idx === exclude);
            return idx;
        }

        /**
         * Generates a random review with variable structures
         */
        function generateReview() {
            // Randomly choose a structure to vary length and flow.
            const r = Math.random();
            let structureType;
            
            if (r < 0.20) structureType = 0;      // 20% Chance: 3 sentences
            else if (r < 0.50) structureType = 1; // 30% Chance: 2 sentences
            else if (r < 0.80) structureType = 2; // 30% Chance: 2 sentences
            else structureType = 3;              // 20% Chance: 2 sentences

            let reviewParts = [];
            
            // 1. Select Opener
            if (structureType === 0 || structureType === 1 || structureType === 3) {
                const openerIdx = getUniqueIndex(openers.length, lastIndices.opener);
                reviewParts.push(openers[openerIdx]);
                lastIndices.opener = openerIdx;
            } else {
                lastIndices.opener = null; 
            }

            // 2. Select Body
            if (structureType === 0 || structureType === 1 || structureType === 2) {
                let bodyIdx;
                do {
                    bodyIdx = Math.floor(Math.random() * bodies.length);
                } while (lastIndices.body.includes(bodyIdx)); 
                
                reviewParts.push(bodies[bodyIdx]);
                lastIndices.body = [bodyIdx];
            } else {
                lastIndices.body = [];
            }

            // 3. Select Closer
            if (structureType === 0 || structureType === 2 || structureType === 3) {
                const closerIdx = getUniqueIndex(closers.length, lastIndices.closer);
                reviewParts.push(closers[closerIdx]);
                lastIndices.closer = closerIdx;
            } else {
                lastIndices.closer = null;
            }

            // Join with spaces
            const fullReview = reviewParts.join(' ');
            dom.textarea.value = fullReview;
            
            // Auto resize height
            autoResize();

            // Trigger Fade In Animation
            dom.textarea.classList.remove('fade-in');
            void dom.textarea.offsetWidth; // trigger reflow
            dom.textarea.classList.add('fade-in');
        }

        /**
         * Copies text to clipboard and shows toast feedback
         * Uses modern API first, falls back to legacy execCommand
         */
        async function copyToClipboard() {
            const text = dom.textarea.value;
            
            try {
                // Try modern API first (preferred)
                await navigator.clipboard.writeText(text);
                showToast();
            } catch (err) {
                // Fallback to execCommand for compatibility
                try {
                    dom.textarea.select();
                    dom.textarea.setSelectionRange(0, 99999); // For mobile devices
                    document.execCommand('copy');
                    showToast();
                    
                    // Deselect to keep it clean (since it's readonly)
                    if (window.getSelection) {
                        window.getSelection().removeAllRanges();
                    }
                } catch (fallbackErr) {
                    console.error("Copy failed", fallbackErr);
                }
            }
        }

        /**
         * Shows a temporary success message
         */
        function showToast() {
            dom.toast.classList.add('show');
            setTimeout(() => {
                dom.toast.classList.remove('show');
            }, 2500);
        }

        // --- EVENT LISTENERS ---

        // 1. Load: Generate initial review
        window.addEventListener('DOMContentLoaded', () => {
            generateReview();
            dom.btnMaps.href = MAPS_URL;
            // Removed automatic copy on load for browser policy compliance
        });

        // 2. Click: Generate new review (Main Button)
        dom.btnGenerate.addEventListener('click', (e) => {
            e.preventDefault();
            generateReview();
            // Removed automatic copy on generation; user must click Copy
        });

        // 3. Click: Generate new review (Icon Button)
        dom.btnRefresh.addEventListener('click', (e) => {
             e.preventDefault();
             generateReview();
             // Removed automatic copy on generation; user must click Copy
        });

        // 4. Click: Copy text
        dom.btnCopy.addEventListener('click', copyToClipboard);

        // 5. Click: Go to Maps
        dom.btnMaps.addEventListener('click', () => {
            // Optional: Tracking logic
        });

    </script>
</body>
</html>
